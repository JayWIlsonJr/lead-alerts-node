<!DOCTYPE html><html><head><title>Instant Lead Alerts</title><style>body, html {
  height:100%;
  width:100%;
  padding:0;
  margin:0;
  overflow:hidden;
  background-color:#ddd;
}
.wrapper {
  height:100%;
  width:100%;
}</style><link rel="shortcut icon" href="//twilio.com/bundles/marketing/img/favicons/favicon.ico"><link rel="apple-touch-icon" href="//twilio.com/bundles/marketing/img/favicons/favicon_57.png"><link rel="apple-touch-icon" sizes="72x72" href="//twilio.com/bundles/marketing/img/favicons/favicon_72.png"><link rel="apple-touch-icon" sizes="114x114" href="//twilio.com/bundles/marketing/img/favicons/favicon_114.png"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"><link rel="stylesheet" href="viewsaurus.css"></head><body><div class="wrapper"><div id="viewsaurus" data-title="Instant Lead Alerts"><div class="saurus-panes"><div class="saurus-prose"><div class="saurus-prose-header"><div class="title-outer"><span class="step-title">Instant Lead Alerts</span></div></div><div class="saurus-nav-buttons"><div class="saurus-nav-button nav-overview"><div class="saurus-nav-button-inner"><i class="fa fa-fw fa-list"></i></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-previous"><div class="saurus-nav-button-inner"><a href=""> <i class="fa fa-fw fa-play fa-rotate-180"></i></a></div><div class="nav-divider"></div></div><div class="saurus-nav-button nav-next clickable"><div class="saurus-nav-button-inner"><a href="#1"> <i class="fa fa-fw fa-play"></i></a></div></div><div class="saurus-next-title"><span class="next-title-inner"></span></div></div><div class="saurus-progress-bar"></div><div class="saurus-start"><p>In this tutorial, we will learn how to instantly route leads to sales reps (in a real estate scenario) using text messages. Let's get started!</p><a href="#0">Start Tutorial</a></div><div class="saurus-content"><div data-title="Setting Up The Application" class="chapter"><div data-title="What Are We Building?" data-file="config.js" class="step"><h2 id="what-are-we-building-">What Are We Building?</h2>
<p>You probably already have landing pages or product detail views --that
you&#39;re using to generate leads for your business-- on your web application.
In this tutorial we&#39;ll use Twilio SMS to send a message when a new lead
is found.</p>
<p><img src="//s3.amazonaws.com/howtodocs/lead-alerts-flow.png" alt="Lead Alerts Flow"></p>
<p>On this example we&#39;ll be implementing instant lead alerts for real estate
(much like <a href="//www.twilio.com/customers/stories/trulia">our awesome friends at
Trulia</a>). We&#39;ll create a
landing page for a new house on the market and, notify a real estate agent
the moment a potential customer requests information.</p>
<p>Let&#39;s see how it works! Click the next arrow above to continue the tutorial.</p>
</div><div data-title="Landing Page Data" data-file="controllers/router.js" data-highlight="7-15,19-22" class="step"><h2 id="landing-page-data">Landing Page Data</h2>
<p>To display a landing page for our house, we need some data about
the fictional house we&#39;ve put on the market. For demonstration purposes
we&#39;ve hard-coded an object containing the information we need.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="//www.w3schools.com/js/js_objects.asp">JavaScript Objects</a></li>
</ul>
</div><div data-title="Rendering the Landing Page" data-file="views/index.jade" class="step"><h2 id="rendering-the-landing-page">Rendering the Landing Page</h2>
<p>In our template we insert data about the house and in a sidebar
we include a form for the user. On this form they enter their contact
information and request more info about the home.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="//jade-lang.com/">Jade Templates</a></li>
</ul>
</div><div data-title="Creating a Twilio API Client" data-file="controllers/router.js" data-highlight="1-5" class="step"><h2 id="creating-a-twilio-rest-api-client">Creating a Twilio REST API Client</h2>
<p>Now we need to create a helper class with an authenticated Twilio REST
API client that we can use anytime we need to send a text message. We
initialize it with our <a href="//www.twilio.com/user/account/messaging/dashboard">Twilio Account Credentials</a>
that are stored as environment variables.</p>
</div><div data-title="Handling the POST Request" data-file="controllers/router.js" data-highlight="25-46" class="step"><h2 id="handling-the-post-request">Handling the POST Request</h2>
<p>This code handles the HTTP <code>POST</code> request issued by our landing page. Here
we use a <a href="//twilio.github.io/twilio-node/#restapi">Twilio REST API Client</a>
to send an SMS message to the real estate agent&#39;s phone number, which is also
set as a environment variable. We include the lead&#39;s name, phone number, and
inquiry directly in the body of the text message sent to the agent.</p>
<p>Now the agent has all the information they need to follow up on the lead.</p>
<hr>
<p><strong>See Also:</strong></p>
<ul>
<li><a href="//expressjs.com/en/api.html#app.METHOD">Express HTTP Methods</a></li>
</ul>
</div><div class="step"><h2 id="where-to-next-">Where to next?</h2>
<p>That&#39;s it! We&#39;ve just implemented an application to instantly route leads
to sales people using text messages. If you&#39;re a
NodeJS developer working with Twilio, you might want to check these
other tutorials out.</p>
<p><a href="//www.twilio.com/docs/tutorials/walkthrough/appointment-reminders/node/express"><strong>Appointment Reminders</strong></a></p>
<p>Learn to implement appointment reminders on your web app with Twilio.</p>
<p><a href="//www.twilio.com/docs/tutorials/walkthrough/two-factor-authentication/node/express"><strong>Two-Factor Authentication with Authy</strong></a></p>
<p>Learn to implement two-factor authentication (2FA) on your web app with
Twilio-powered Authy.</p>
<h3 id="did-this-help-">Did this help?</h3>
<p>Thanks for checking out this tutorial! If you have any feedback
to share with us, we&#39;d love to hear it.
<a href="mailto:deved-oss@twilio.com">Contact the Twilio Developer Education Team</a> to let us know what you think.</p>
</div></div>
<div class="saurus-files" style="display:none;"><textarea class="saurus-file" data-file="config.js" data-mode="javascript">dmFyIGNmZyA9IHt9OwoKLy8gSFRUUCBQb3J0IHRvIHJ1biBvdXIgd2ViIGFwcGxpY2F0aW9uCmNmZy5wb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwOwoKLy8gQSByYW5kb20gc3RyaW5nIHRoYXQgd2lsbCBoZWxwIGdlbmVyYXRlIHNlY3VyZSBvbmUtdGltZSBwYXNzd29yZHMgYW5kCi8vIEhUVFAgc2Vzc2lvbnMKY2ZnLnNlY3JldCA9IHByb2Nlc3MuZW52LkFQUF9TRUNSRVQgfHwgJ2tleWJvYXJkIGNhdCc7CgovLyBZb3VyIFR3aWxpbyBhY2NvdW50IFNJRCBhbmQgYXV0aCB0b2tlbiwgYm90aCBmb3VuZCBhdDoKLy8gaHR0cHM6Ly93d3cudHdpbGlvLmNvbS91c2VyL2FjY291bnQKLy8gCi8vIEEgZ29vZCBwcmFjdGljZSBpcyB0byBzdG9yZSB0aGVzZSBzdHJpbmcgdmFsdWVzIGFzIHN5c3RlbSBlbnZpcm9ubWVudAovLyB2YXJpYWJsZXMsIGFuZCBsb2FkIHRoZW0gZnJvbSB0aGVyZSBhcyB3ZSBhcmUgZG9pbmcgYmVsb3cuIEFsdGVybmF0ZWx5LAovLyB5b3UgY291bGQgaGFyZCBjb2RlIHRoZXNlIHZhbHVlcyBoZXJlIGFzIHN0cmluZ3MuCmNmZy5hY2NvdW50U2lkID0gcHJvY2Vzcy5lbnYuVFdJTElPX0FDQ09VTlRfU0lEOwpjZmcuYXV0aFRva2VuID0gcHJvY2Vzcy5lbnYuVFdJTElPX0FVVEhfVE9LRU47CgovLyBBIFR3aWxpbyBudW1iZXIgeW91IGNvbnRyb2wgLSBjaG9vc2Ugb25lIGZyb206Ci8vIGh0dHBzOi8vd3d3LnR3aWxpby5jb20vdXNlci9hY2NvdW50L3Bob25lLW51bWJlcnMvaW5jb21pbmcKLy8gU3BlY2lmeSBpbiBFLjE2NCBmb3JtYXQsIGUuZy4gIisxNjUxOTk5ODg3NyIKY2ZnLnR3aWxpb051bWJlciA9IHByb2Nlc3MuZW52LlRXSUxJT19OVU1CRVI7CgovLyBUaGUgc2FsZXMgcmVwIC8gYWdlbnQncyBwaG9uZSBudW1iZXIKY2ZnLmFnZW50TnVtYmVyID0gcHJvY2Vzcy5lbnYuQUdFTlRfTlVNQkVSOwoKLy8gRXhwb3J0IGNvbmZpZ3VyYXRpb24gb2JqZWN0Cm1vZHVsZS5leHBvcnRzID0gY2ZnOw==</textarea>
<textarea class="saurus-file" data-file="controllers/router.js" data-mode="javascript">dmFyIHR3aWxpbyA9IHJlcXVpcmUoJ3R3aWxpbycpOwp2YXIgY29uZmlnID0gcmVxdWlyZSgnLi4vY29uZmlnJyk7CgovLyBDcmVhdGUgYW4gYXV0aGVudGljYXRlZCBUd2lsaW8gQVBJIGNsaWVudAp2YXIgY2xpZW50ID0gdHdpbGlvKGNvbmZpZy5hY2NvdW50U2lkLCBjb25maWcuYXV0aFRva2VuKTsKCi8vIFNvbWUgaGFyZC1jb2RlZCBpbmZvcm1hdGlvbiBhYm91dCBhIGhvdXNlCnZhciBob3VzZSA9IHsKICAgIHRpdGxlOiAnNTU1IFN1bm55YnJvb2sgTGFuZScsCiAgICBwcmljZTogJyQzNDksOTk5JywKICAgIGRlc2NyaXB0aW9uOiAnWW91IGFuZCB5b3VyIGZhbWlseSB3aWxsIGxvdmUgdGhpcyBjaGFybWluZyBob21lLiAnCiAgICAgICAgKyAnRmVhdHVyaW5nIGdyYW5pdGUgYXBwbGlhbmNlcywgc3RhaW5sZXNzIHN0ZWVsIHdpbmRvd3MsIGFuZCAnCiAgICAgICAgKyAnaGlnaCBlZmZpY2llbmN5IGR1YWwgbXVkIHJvb21zLCB0aGlzIGpvaW50IGlzIGxvYWRlZCB0byB0aGUgbWF4LiAnCiAgICAgICAgKyAnTW90aXZhdGVkIHNlbGxlcnMgaGF2ZSBwcmljZWQgZm9yIGEgcXVpY2sgc2FsZSwgYWN0IG5vdyEnCn07CgovLyBNYXAgcm91dGVzIHRvIGNvbnRyb2xsZXIgZnVuY3Rpb25zCm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYXBwKSB7CiAgICAvLyBSZW5kZXIgbGFuZGluZyBwYWdlCiAgICBhcHAuZ2V0KCcvJywgZnVuY3Rpb24ocmVxdWVzdCwgcmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZS5yZW5kZXIoJ2luZGV4JywgaG91c2UpOwogICAgfSk7CgogICAgLy8gU2VuZCBsZWFkIG5vdGlmaWNhdGlvbgogICAgYXBwLnBvc3QoJy9sZWFkcycsIGZ1bmN0aW9uKHJlcXVlc3QsIHJlc3BvbnNlKSB7CiAgICAgICAgLy8gQXNzZW1ibGUgYSB0ZXh0IG1lc3NhZ2UgYm9keSAKICAgICAgICB2YXIgbWVzc2FnZSA9ICdOZXcgbGVhZCByZWNlaXZlZCBmb3IgJyArIGhvdXNlLnRpdGxlICsgJy4gQ2FsbCAnIAogICAgICAgICAgICArIHJlcXVlc3QuYm9keS5uYW1lICsgJyBhdCAnICsgcmVxdWVzdC5ib2R5LnBob25lICsgJy4gTWVzc2FnZTogIicKICAgICAgICAgICAgKyByZXF1ZXN0LmJvZHkubWVzc2FnZSArICciJzsKCiAgICAgICAgLy8gU2VuZCBsZWFkIG5vdGlmaWNhdGlvbiB0byBhZ2VudAogICAgICAgIGNsaWVudC5zZW5kTWVzc2FnZSh7CiAgICAgICAgICAgIHRvOiBjb25maWcuYWdlbnROdW1iZXIsCiAgICAgICAgICAgIGZyb206IGNvbmZpZy50d2lsaW9OdW1iZXIsCiAgICAgICAgICAgIGJvZHk6IG1lc3NhZ2UKICAgICAgICB9LCBmdW5jdGlvbihlcnIsIGRhdGEpIHsKICAgICAgICAgICAgLy8gUmV0dXJuIGEgNTAwIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBvbiBUd2lsaW8ncyBlbmQKICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDApLnNlbmQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCByZXNwb25kIHdpdGggMjAwIE9LCiAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQoJycpOwogICAgICAgIH0pOwogICAgfSk7Cn07</textarea>
<textarea class="saurus-file" data-file="views/index.jade" data-mode="jade">ZXh0ZW5kcyBsYXlvdXQKCmJsb2NrIGNvbnRlbnQKICAucm93CiAgICAuY29sLXNtLTgKICAgICAgaDE9IHRpdGxlCiAgICAgIGgzPSBwcmljZQogICAgICBwCiAgICAgICAgaW1nLmltZy1yZXNwb25zaXZlKHNyYz0iL2hvdXNlLmpwZyIpCiAgICAgIHA9IGRlc2NyaXB0aW9uCgogICAgLmNvbC1zbS00LmRlbW8KICAgICAgaDQgVGFsayBUbyBBbiBBZ2VudAogICAgICBwLgogICAgICAgIEEgdHJhaW5lZCByZWFsIGVzdGF0ZSBwcm9mZXNzaW9uYWwgaXMgc3RhbmRpbmcgYnkgdG8gYW5zd2VyIGFueQogICAgICAgIHF1ZXN0aW9ucyB5b3UgbWlnaHQgaGF2ZSBhYm91dCB0aGlzIHByb3BlcnR5LiBGaWxsIG91dCB0aGUgZm9ybSBiZWxvdwogICAgICAgIHdpdGggeW91ciBjb250YWN0IGluZm9ybWF0aW9uLCBhbmQgYW4gYWdlbnQgd2lsbCByZWFjaCBvdXQgc29vbi4KCiAgICAgIGZvcm0oYWN0aW9uPScvbGVhZHMnLCBtZXRob2Q9J1BPU1QnKQoKICAgICAgICAuZm9ybS1ncm91cAogICAgICAgICAgbGFiZWwoZm9yPSduYW1lJykgWW91ciBOYW1lCiAgICAgICAgICBpbnB1dC5mb3JtLWNvbnRyb2wodHlwZT0ndGV4dCcsIG5hbWU9J25hbWUnLAogICAgICAgICAgICBwbGFjZWhvbGRlcj0nSm9obiBBcHBsZXNlZWQnKQoKICAgICAgICAuZm9ybS1ncm91cAogICAgICAgICAgbGFiZWwoZm9yPSdwaG9uZScpIFlvdXIgUGhvbmUgTnVtYmVyCiAgICAgICAgICBpbnB1dC5mb3JtLWNvbnRyb2wodHlwZT0ndGV4dCcsIG5hbWU9J3Bob25lJywKICAgICAgICAgICAgcGxhY2Vob2xkZXI9JysxNjUxMjIyOTk4OCcpCgogICAgICAgIC5mb3JtLWdyb3VwCiAgICAgICAgICBsYWJlbChmb3I9J21lc3NhZ2UnKSBIb3cgY2FuIHdlIGhlbHA/CiAgICAgICAgICBpbnB1dC5mb3JtLWNvbnRyb2wodHlwZT0ndGV4dCcsIG5hbWU9J21lc3NhZ2UnLAogICAgICAgICAgICBwbGFjZWhvbGRlcj0nJykgICAgICAgIAoKICAgICAgICBidXR0b24uYnRuLmJ0bi1wcmltYXJ5KHR5cGU9J3N1Ym1pdCcpIFJlcXVlc3QgSW5mbwoKYmxvY2sgc2NyaXB0cwogIHNjcmlwdChzcmM9J2Zvcm0uanMnKQ==</textarea>
</div>
</div><div class="saurus-overview"><ul></ul></div></div><div class="saurus-code"><div class="file-path"><span class="crumb-container"></span><i class="fa fa-fw fa-folder"></i></div><div class="saurus-editor"></div></div><div class="saurus-explorer"><div class="saurus-file-list"></div><a href="https://github.com/TwilioDevEd/lead-alerts-node" target="_blank" class="explorer-get-code"> <i class="fa fa-lg fa-github-square"> </i>View Code on GitHub</a></div></div></div></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js"></script><script src="ace/ace.js"></script><script src="ace/theme-monokai.js"></script><script src="viewsaurus.js"></script></body></html>